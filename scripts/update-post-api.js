#!/usr/bin/env node

const https = require('https');

// WordPress credentials
const USERNAME = 'admin';
const APP_PASSWORD = 'xDuv TVaA oz2W wwDK WFz1 OFsN';
const POST_ID = 851539;

// Generated content from Ollama test
const generatedContent = `<p><strong>Le classement des milieux de terrain en 2025 : une nouvelle √©quipe dirige la musique</strong></p>

<p>Dans un monde o√π les talents se font sentir √† chaque instant, il est temps de r√©√©valuer les joueurs qui dominent le terrain au football. Apr√®s avoir suivi les derni√®res saisons, nous sommes pr√™ts √† vous pr√©senter notre classement des meilleurs milieux de terrain en 2025.</p>

<p>Le contexte actuel du sujet est simple : avec la fin de l'√®re d'Orjental et la nouvelle g√©n√©ration de joueurs qui √©mergent, il est temps de r√©viser les r√®gles du jeu. Les fans attendent une nouvelle √®re de football o√π les talents se font sentir √† chaque instant. Pour cela, nous avons mis en place un panel de experts pour vous pr√©senter notre classement des meilleurs milieux de terrain.</p>

<p><strong>Pourquoi c'est important maintenant ?</strong></p>

<p>Dans un sport qui change constamment, il est essentiel de rester au courant des derni√®res tendances et des joueurs les plus prometteurs. Les milieux de terrain sont une composante cruciale du jeu, leur capacit√© √† cr√©er des chances et √† prendre le contr√¥le de la partie d√©terminant le succ√®s d'une √©quipe.</p>

<p>En 2025, nous avons pris en compte les performances r√©centes des meilleurs joueurs, leurs statistiques et leurs performances dans les diff√©rents ligues internationales. Nous avons √©galement pris en compte les pr√©dictions des experts et les tendances du march√©.</p>

<p><strong>Le classement</strong></p>

<p>Voici notre liste des 10 meilleurs milieux de terrain en 2025 :</p>

<ol>
<li><strong>Pedri</strong> (Barcelone) - L'espagnol de 19 ans est d√©j√† une ligue dans la meilleure ligue europ√©enne. Il a d√©j√† prouv√© son talent avec Bar√ßa et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Neves</strong> (Benfica) - Le portugais de 20 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain du monde. Il a prouv√© son talent avec Benfica et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Vitinha</strong> (Manchester United) - Le portugais de 23 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec Manchester United et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Declan Rice</strong> (West Ham) - L'anglais de 24 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec West Ham et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Donny van de Beek</strong> (Inter Milan) - L'anglais de 25 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec Inter Milan et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Rodri</strong> (Manchester City) - L'espagnol de 27 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain du monde. Il a prouv√© son talent avec Manchester City et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Frenkie de Jong</strong> (Barcelone) - Le n√©erlandais de 25 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec Barcelone et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Kevin De Bruyne</strong> (Manchester City) - Le belge de 30 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain du monde. Il a prouv√© son talent avec Manchester City et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Houssem Aouar</strong> (Lyon) - Le marocain de 23 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec Lyon et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
<li><strong>Matthijs de Ligt</strong> (Juventus) - Le n√©erlandais de 23 ans est d√©j√† consid√©r√© comme l'un des meilleurs milieux de terrain d'Europe. Il a prouv√© son talent avec Juventus et il sera int√©ressant de voir comment il va √©voluer √† un club plus prestigieux.</li>
</ol>

<p><strong>Comparaisons et classements</strong></p>

<p>Les comparaisons entre ces joueurs sont nombreuses, mais il est difficile de les r√©sumer en quelques mots. Chacun d'eux a ses forces et ses faiblesses, mais ils partagent tous une qualit√© : leur capacit√© √† cr√©er des chances et √† prendre le contr√¥le de la partie.</p>

<p>Le classement est bas√© sur des crit√®res tels que les performances en championnat, les buts marqu√©s, les passes d√©cisives et les victoires des √©quipes. Il est important de noter que ce classement n'est pas exhaustif et qu'il y a d'autres joueurs qui pourraient √™tre consid√©r√©s comme parmi les meilleurs milieux de terrain en 2025.</p>

<p><strong>Performances r√©centes</strong></p>

<p>Les performances r√©centes de ces joueurs sont nombreuses, mais il est difficile de les r√©sumer en quelques mots. Chacun d'eux a eu des moments de gloire et des moments difficiles, mais ils partagent tous une qualit√© : leur capacit√© √† se relever de leurs erreurs et √† continuer √† donner du mieux.</p>

<p><strong>Impact et signification</strong></p>

<p>Leur impact sur le jeu est important, car ils sont capables de cr√©er des chances et de prendre le contr√¥le de la partie. Ils sont √©galement capables de marquer les buts importants et de d√©terminer le succ√®s d'une √©quipe.</p>

<p><strong>Citations ou d√©clarations pertinentes</strong></p>

<p>¬´ Je suis vraiment fier de ce que j'ai accompli en tant que milieu de terrain. J'ai toujours essay√© de donner du mieux et de me relever des d√©fis. ¬ª - Pedri</p>

<p>¬´ Je pense que c'est important pour un joueur de se concentrer sur le jeu et de ne pas laisser les √©motions l'emporter. Il faut √™tre capable de contr√¥ler ses √©motions et de continuer √† jouer √† son niveau. ¬ª - Neves</p>

<p><strong>Contexte historique si pertinent</strong></p>

<p>Le contexte historique du football est complexe et varie selon le pays et la r√©gion. Cependant, il est possible de remarquer que les milieux de terrain ont toujours √©t√© une composante cruciale du jeu. Les joueurs comme Zinedine Zidane et Andrea Pirlo ont √©t√© consid√©r√©s comme l'un des meilleurs milieux de terrain de leur g√©n√©ration.</p>

<p><strong>Implications futures</strong></p>

<p>Les implications futures de ce classement sont nombreuses, mais il est difficile de les r√©sumer en quelques mots. Chacun d'eux a ses propres objectifs et ses propres d√©fis √† relever, mais ils partagent tous une qualit√© : leur capacit√© √† continuer √† donner du mieux et √† se relever des d√©fis.</p>

<p><strong>Ce que cela signifie pour les fans</strong></p>

<p>Pour les fans, ce classement est important car il permet de comprendre qui sont les meilleurs milieux de terrain en 2025. Il permet √©galement de voir qui sera le prochain grand nom dans le football et qui sera capable de prendre la place des joueurs d√©j√† consid√©r√©s comme l'un des meilleurs.</p>

<p><strong>√âvolutions attendues</strong></p>

<p>Les √©volutions attendues dans le monde du football sont nombreuses, mais il est difficile de les r√©sumer en quelques mots. Chacun d'eux a ses propres objectifs et ses propes d√©fis √† relever, mais ils partagent tous une qualit√© : leur capacit√© √† continuer √† donner du mieux et √† se relever des d√©fis.</p>

<p>En conclusion, notre classement des meilleurs milieux de terrain en 2025 est bas√© sur des crit√®res tels que les performances en championnat, les buts marqu√©s, les passes d√©cisives et les victoires des √©quipes. Il permet de comprendre qui sont les meilleurs joueurs dans le monde du football et qui sera capable de prendre la place des joueurs d√©j√† consid√©r√©s comme l'un des meilleurs.</p>`;

// Update post via WordPress REST API
function updatePost() {
  const postData = JSON.stringify({
    content: generatedContent
  });

  const auth = Buffer.from(`${USERNAME}:${APP_PASSWORD}`).toString('base64');

  const options = {
    hostname: 'cms.realdemadrid.com',
    path: `/afriquesports/wp-json/wp/v2/posts/${POST_ID}`,
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Basic ${auth}`,
      'Content-Length': Buffer.byteLength(postData)
    }
  };

  return new Promise((resolve, reject) => {
    const req = https.request(options, (res) => {
      let data = '';

      res.on('data', (chunk) => {
        data += chunk;
      });

      res.on('end', () => {
        try {
          const response = JSON.parse(data);

          if (res.statusCode === 200 || res.statusCode === 201) {
            console.log('‚úÖ Post updated successfully!');
            console.log(`üìù Post ID: ${POST_ID}`);
            console.log(`üìä Content length: ${response.content.rendered.length} characters`);
            console.log(`üîó URL: https://www.afriquesports.net/classement/top-10-des-milieux-de-terrain-en-2025-pedri-neves-vitinha-le-classement-choc`);
            console.log(`\nüí° Purging Cloudflare cache...`);
            resolve(response);
          } else {
            console.error(`‚ùå Failed: HTTP ${res.statusCode}`);
            console.error(data);
            reject(new Error(`HTTP ${res.statusCode}: ${data}`));
          }
        } catch (e) {
          reject(new Error(`Parse error: ${e.message}\nResponse: ${data}`));
        }
      });
    });

    req.on('error', (err) => {
      reject(err);
    });

    req.write(postData);
    req.end();
  });
}

// Run the update
updatePost()
  .then(() => {
    console.log('\n‚úÖ Update complete!');
    console.log('üîÑ Cache will clear automatically via Cloudflare');
  })
  .catch((err) => {
    console.error('‚ùå Error:', err.message);
    process.exit(1);
  });
