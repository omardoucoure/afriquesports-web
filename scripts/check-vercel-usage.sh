#!/bin/bash

# Vercel Usage Checker
# Note: Vercel CLI doesn't have direct usage/billing commands
# This script explains how to check costs and provides alternatives

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘         VERCEL USAGE & COST CHECKER                          â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âš ï¸  IMPORTANT: Vercel CLI does not provide usage/billing commands"
echo "   Usage data must be accessed via:"
echo "   1. Vercel Dashboard (Web Interface)"
echo "   2. Vercel API (Programmatic Access)"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  PROJECT INFORMATION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# Get project info
vercel project inspect afriquesports-web 2>&1 | grep -E "ID|Name|Owner|Created"

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  HOW TO CHECK YESTERDAY'S COSTS (Dec 31, 2025)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ“Š METHOD 1: Vercel Dashboard (Easiest)"
echo ""
echo "   1. Open: https://vercel.com/omars-projects-81bbcbf6/afriquesports-web/analytics/usage"
echo ""
echo "   2. Click 'Usage' tab"
echo ""
echo "   3. Select date range:"
echo "      â€¢ From: December 31, 2025"
echo "      â€¢ To: December 31, 2025"
echo ""
echo "   4. View breakdown:"
echo "      âœ“ Edge Requests"
echo "      âœ“ Function Invocations"
echo "      âœ“ Image Transformations"
echo "      âœ“ Fast Origin Transfer"
echo "      âœ“ Fluid Compute (CPU + Memory)"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ“ˆ METHOD 2: Vercel API (Programmatic)"
echo ""
echo "   Requires: VERCEL_TOKEN environment variable"
echo ""
echo "   Example API call:"
echo '   curl -H "Authorization: Bearer $VERCEL_TOKEN" \'
echo '     "https://api.vercel.com/v1/teams/TEAM_ID/usage?from=2025-12-31&to=2025-12-31"'
echo ""
echo "   To get your token:"
echo "   1. Go to: https://vercel.com/account/tokens"
echo "   2. Create new token"
echo "   3. Export: export VERCEL_TOKEN=your_token_here"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ“Š CURRENT MONTH COSTS (As of last check)"
echo ""
echo "   Total Monthly Cost: $123.51"
echo ""
echo "   Breakdown:"
echo "   â€¢ Edge Requests:          $41.11 (33%)"
echo "   â€¢ Fast Origin Transfer:   $18.77 (15%)"
echo "   â€¢ Fluid Active CPU:       $15.05 (12%)"
echo "   â€¢ Function Invocations:   $12.10 (10%)"
echo "   â€¢ Fluid Memory:           $12.00 (10%)"
echo "   â€¢ Image Transformations:  $10.09 (8%)"
echo "   â€¢ Web Analytics:          $9.86  (8%)"
echo "   â€¢ Image Cache Writes:     $3.91  (3%)"
echo ""
echo "   Daily Average: ~$3.98/day"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ’¡ RECOMMENDATIONS:"
echo ""
echo "   If yesterday's cost was:"
echo "   â€¢ > $5/day: Unusually high (check for traffic spike)"
echo "   â€¢ $3-5/day: Normal range"
echo "   â€¢ < $3/day: Below average"
echo ""
echo "   Quick cost reduction (save $34-41/month):"
echo "   â†’ See: COST-OPTIMIZATION-ACTION-PLAN.md"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ðŸ”— QUICK LINKS:"
echo ""
echo "   Usage Dashboard:"
echo "   https://vercel.com/omars-projects-81bbcbf6/afriquesports-web/analytics/usage"
echo ""
echo "   Billing Settings:"
echo "   https://vercel.com/omars-projects-81bbcbf6/settings/billing"
echo ""
echo "   Export Usage Report:"
echo "   https://vercel.com/omars-projects-81bbcbf6/settings/usage"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… To check yesterday's costs, open the Usage Dashboard link above."
echo ""
